const a10_0x31a251=a10_0x5335;(function(_0x19720d,_0x131753){const _0x36eef4=a10_0x5335,_0x2708a2=_0x19720d();while(!![]){try{const _0x5ae355=-parseInt(_0x36eef4(0x90))/0x1*(-parseInt(_0x36eef4(0x98))/0x2)+-parseInt(_0x36eef4(0x73))/0x3*(-parseInt(_0x36eef4(0x8e))/0x4)+parseInt(_0x36eef4(0x77))/0x5+-parseInt(_0x36eef4(0x7c))/0x6*(parseInt(_0x36eef4(0xa1))/0x7)+parseInt(_0x36eef4(0x97))/0x8*(-parseInt(_0x36eef4(0x95))/0x9)+-parseInt(_0x36eef4(0x85))/0xa*(parseInt(_0x36eef4(0x8c))/0xb)+parseInt(_0x36eef4(0x9d))/0xc;if(_0x5ae355===_0x131753)break;else _0x2708a2['push'](_0x2708a2['shift']());}catch(_0x444506){_0x2708a2['push'](_0x2708a2['shift']());}}}(a10_0x4e7d,0xc319c));function a10_0x5335(_0x1da179,_0x250f34){const _0x4e7d16=a10_0x4e7d();return a10_0x5335=function(_0x533585,_0x3698b8){_0x533585=_0x533585-0x6b;let _0x4d13d6=_0x4e7d16[_0x533585];return _0x4d13d6;},a10_0x5335(_0x1da179,_0x250f34);}import{Helper}from'../../utils/helper.js';import a10_0x53c28d from'../../utils/twister.js';function a10_0x4e7d(){const _0x4fd229=['6785364Mogrzp','handleTransactionError','\x20|\x20Hash:\x20','Error\x20fetching\x20transaction\x20receipt','coreInstance','provider','Unknown\x20error','formatTxHash','Transaction\x20failed\x20to\x20send.','27570efPRzg','interface','Previous\x20attempt\x20failed:\x20','startLoadingSpinner','handleTransaction','message','sleep','484CVsCuI','code','50308vRPJAm','ECONNRESET','1BzGiyT','\x20|\x20Transaction\x20Hash:\x20','getTransactionError','args','reverse','5553ZmRNlV','Swapping\x20','712ewcWzh','466084TXNKRG','transactionHash','split','logs','min','10008348vUWRSd','padStart','\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20|\x20Reason:\x20','hash','7jFBxvN','acc','Invalid\x20transaction\x20hash','Retrying...\x20Attempt\x20','handleError','Function\x20retryTransaction\x20failed.','during\x20transaction:\x20','slice','substring','\x20|\x20Reason:\x20','207NjNjnV','floor','formatElapsedTime','delay','856815KMWaEy','Max\x20attempts\x20reached,\x20transaction\x20failed.','join','N/A','...'];a10_0x4e7d=function(){return _0x4fd229;};return a10_0x4e7d();}export default class TransactionManager{constructor(_0x1c1530){const _0x4acd83=a10_0x5335;this[_0x4acd83(0x80)]=_0x1c1530;}async[a10_0x31a251(0x8b)](_0x6cf093){return new Promise(_0x197cc0=>setTimeout(_0x197cc0,_0x6cf093));}async[a10_0x31a251(0x7d)](_0x999153,_0x52d599,_0x245f37,_0xc2c492){const _0x369973=a10_0x31a251,_0x3f0368=_0x999153[_0x369973(0x8a)]||_0x369973(0x82),_0x20f0cc=_0x999153[_0x369973(0x99)]||_0x369973(0x7a),_0x56244f=_0x20f0cc!==_0x369973(0x7a)?await this[_0x369973(0x92)](_0x20f0cc):_0x369973(0x6b);this[_0x369973(0x80)]['handleError'](_0x369973(0x96)+_0x52d599+'\x20'+_0x245f37+'\x20into\x20'+_0xc2c492,_0x3f0368+_0x369973(0x91)+this[_0x369973(0x83)](_0x20f0cc)+_0x369973(0x9f)+_0x56244f),await this[_0x369973(0x8b)](0x1388),this['coreInstance'][_0x369973(0x6d)]('Transaction\x20failed\x20with\x20error:\x20'+_0x3f0368+_0x369973(0x7e)+this[_0x369973(0x83)](_0x20f0cc)+_0x369973(0x72)+_0x56244f,'Transaction\x20failed');}async[a10_0x31a251(0x92)](_0x4d472e){const _0x6c9d26=a10_0x31a251;try{const _0x56d4a4=await this['coreInstance'][_0x6c9d26(0x81)]['getTransactionReceipt'](_0x4d472e);if(_0x56d4a4&&_0x56d4a4[_0x6c9d26(0x9b)])for(const _0x1e88d0 of _0x56d4a4[_0x6c9d26(0x9b)]){const _0x227b83=this[_0x6c9d26(0x80)]['contractInstances']['swapRouter'][_0x6c9d26(0x86)]['parseLog'](_0x1e88d0);if(_0x227b83)return _0x227b83[_0x6c9d26(0x93)][0x0];}return'Unknown\x20error';}catch(_0x22fc3b){return this[_0x6c9d26(0x80)][_0x6c9d26(0x6d)]('Error\x20fetching\x20transaction\x20receipt:',_0x22fc3b),_0x6c9d26(0x7f);}}async[a10_0x31a251(0x89)](_0x13bb88,_0x212b46){const _0x16090f=a10_0x31a251;try{const _0x4a5b62=await _0x13bb88();return _0x4a5b62?.[_0x16090f(0xa0)]?(a10_0x53c28d['log'](''+_0x212b46,this[_0x16090f(0x80)][_0x16090f(0xa2)],this[_0x16090f(0x80)],'âœ…\x20Transaction\x20sent,\x20txid:\x20'+this['formatTxHash'](_0x4a5b62[_0x16090f(0xa0)])),_0x4a5b62):(this[_0x16090f(0x80)][_0x16090f(0x6d)](_0x212b46,_0x16090f(0x84)),null);}catch(_0x8c4069){return console['error'](_0x8c4069),this['coreInstance']['handleError'](_0x212b46,_0x16090f(0x6f)+_0x8c4069['message']),null;}}async['retryTransaction'](_0x24450b,_0x5de2c6=0x3){const _0x253f76=a10_0x31a251;for(let _0x57414a=0x1;_0x57414a<=_0x5de2c6;_0x57414a++){try{return await _0x24450b();}catch(_0x94c9e5){console['error'](_0x94c9e5);if(_0x94c9e5[_0x253f76(0x8d)]===_0x253f76(0x8f)&&_0x57414a<_0x5de2c6){const _0x43c0cd=Math[_0x253f76(0x9c)](0x3e8*Math['pow'](0x2,_0x57414a),0x2710);await Helper[_0x253f76(0x76)](_0x43c0cd,this[_0x253f76(0x80)][_0x253f76(0xa2)],this[_0x253f76(0x80)],_0x253f76(0x6c)+(_0x57414a+0x1)+'/'+_0x5de2c6,_0x253f76(0x87)+_0x94c9e5[_0x253f76(0x8a)]);}else return this[_0x253f76(0x6d)](_0x253f76(0x6e),_0x253f76(0x78)),null;}}}[a10_0x31a251(0x88)](_0x1bfdb5,_0x588533,_0x4c3f12){let _0x4979a7=0x0;return setInterval(()=>{const _0x228701=a10_0x5335,_0x41dd7e=this['formatElapsedTime'](_0x4979a7);a10_0x53c28d['log'](_0x588533,this['coreInstance'][_0x228701(0xa2)],this[_0x228701(0x80)],_0x1bfdb5[_0x4979a7%_0x1bfdb5['length']]+'\x20'+_0x41dd7e+'\x20'+_0x4c3f12),_0x4979a7++;},0x3e8);}[a10_0x31a251(0x75)](_0x230c00){const _0x5bc74a=a10_0x31a251,_0xe466cd=Math[_0x5bc74a(0x74)](_0x230c00/0xe10),_0x2a1f2c=Math[_0x5bc74a(0x74)](_0x230c00%0xe10/0x3c),_0x173382=_0x230c00%0x3c;return String(_0xe466cd)[_0x5bc74a(0x9e)](0x2,'0')+':'+String(_0x2a1f2c)['padStart'](0x2,'0')+':'+String(_0x173382)[_0x5bc74a(0x9e)](0x2,'0');}[a10_0x31a251(0x83)](_0x489b83){const _0x1cc7c9=a10_0x31a251;return _0x489b83[_0x1cc7c9(0x71)](0x0,0xc)+_0x1cc7c9(0x7b)+_0x489b83[_0x1cc7c9(0x70)](-0xc)[_0x1cc7c9(0x9a)]('')[_0x1cc7c9(0x94)]()[_0x1cc7c9(0x79)]('');}}